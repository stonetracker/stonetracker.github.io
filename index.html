<!DOCTYPE html>
<html>
<head>
  <title>stonetracker</title>
</head>
<body>
  <h1>Upload File</h1>
  <form enctype="multipart/form-data" action="" method="post" id="upload-form">
    <input type="file" name="file" id="file">
    <input type="button" value="Upload" onclick="uploadFile()">
  </form>

  <h1>Download File</h1>
  <button onclick="downloadFile()">Download</button>

  <script>
    function uploadFile() {
      const formData = new FormData(document.getElementById('upload-form'));
      fetch('/upload', {
        method: 'POST',
        body: formData
      }).then(response => response.json())
        .then(data => {
          alert("File uploaded successfully!");
        })
        .catch(error => {
          alert("Failed to upload file.");
        });
    }

    function downloadFile() {
      fetch('/download')
        .then(response => response.blob())
        .then(blob => {
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.style.display = 'none';
          a.href = url;
          a.download = 'downloaded-file';
          document.body.appendChild(a);
          a.click();
          window.URL.revokeObjectURL(url);
        })
        .catch(error => {
          alert("Failed to download file.");
        });
    }
  </script>
</body>
</html>
